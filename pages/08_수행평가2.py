import streamlit as st
import random

# MBTI와 라인 리스트
mbti_list = [
    "INTJ", "INTP", "ENTJ", "ENTP",
    "INFJ", "INFP", "ENFJ", "ENFP",
    "ISTJ", "ISFJ", "ESTJ", "ESFJ",
    "ISTP", "ISFP", "ESTP", "ESFP"
]

lines = ["탑", "정글", "미드", "바텀", "서폿"]

# 챔피언 추천 데이터 (한국어)
champions_data = {
    "탑": ["다리우스", "가렌", "피오라", "카밀", "쉔", "말파이트"],
    "정글": ["리 신", "카직스", "아무무", "이블린", "그라가스", "녹턴"],
    "미드": ["아리", "르블랑", "제드", "카타리나", "오리아나", "야스오"],
    "바텀": ["징크스", "에즈리얼", "카이사", "아펠리오스", "루시안", "바루스"],
    "서폿": ["쓰레쉬", "레오나", "나미", "브라움", "알리스타", "모르가나"]
}

# MBTI별 스타일 코멘트
mbti_style_comments = {
    "INTJ": "전략적 사고로 라인 주도, 팀 플레이를 설계하는 스타일 🧐",
    "INTP": "창의적이고 기발한 플레이, 예상치 못한 움직임 자주 😏",
    "ENTJ": "팀을 이끄는 리더, 한타 주도권 장악 👑",
    "ENTP": "재치 있는 트릭 플레이 즐김, 순간 판단력 최고 ⚡",
    "INFJ": "팀 조화 중시, 안정적으로 승리를 지원 🌱",
    "INFP": "감성적으로 플레이, 마음가는 챔피언에 몰입 💖",
    "ENFJ": "팀 분위기 메이커, 서포팅과 소통 담당 🙌",
    "ENFP": "즉흥적이고 신나는 플레이, 예측 불가 🎉",
    "ISTJ": "기본기 철저, 안정적인 플레이 💪",
    "ISFJ": "팀 보호형, 안전한 포지션에서 든든함 🛡️",
    "ESTJ": "공격적이고 효율적, 한타에서 강력 ⚡",
    "ESFJ": "팀원 챙기기 전문가, 지원과 조율 탁월 💌",
    "ISTP": "위기 상황에 강한 칼 같은 판단 🔪",
    "ISFP": "감각적 플레이, 멋진 스킬 연계 😎",
    "ESTP": "모험적, 위험 감수 플레이 즐김 🏎️",
    "ESFP": "즐기면서 흔드는 플레이, 유쾌한 게임 분위기 🎶"
}

# 챔피언별 추천 이유
champion_comments = {
    "다리우스": "힘으로 찍어 누르는 압도적인 존재감 💪",
    "가렌": "심플하지만 묵직한 한 방, 안정적 🌟",
    "피오라": "정확한 계산으로 적을 교란하는 재미 👍",
    "카밀": "기동성 좋고, 스킬 연계가 신나 😎",
    "쉔": "라인 안정 + 한타에서 글로벌 궁극기 🌐",
    "말파이트": "궁으로 한타 진입, 뒤집기 가능 💥",
    "리 신": "멋진 이니시에이팅, 화려한 플레이 🥋",
    "카직스": "암살자 느낌, 매복 후 폭딜 ⚔️",
    "아무무": "한타에서 핵심, 팀 승리 기여도 💔",
    "이블린": "은신 플레이로 상대 혼내기 👻",
    "그라가스": "폭탄으로 적 분리, 재미있는 한타 🎇",
    "녹턴": "궁극기로 갑작스러운 폭풍 등장 🌌",
    "아리": "기동성 좋고 솔킬 각 나오는 플레이 💫",
    "르블랑": "콤보로 상대 혼란, 화려한 순간 연출 🌀",
    "제드": "암살 전문, 순간 폭딜이 매력 ⚡",
    "카타리나": "돌진+스킬 연계로 뒤집기 가능 🔪",
    "오리아나": "정교한 스킬샷과 팀 시너지 💡",
    "야스오": "라인 클리어+한타 연계, 멋진 이펙트 🌪️",
    "징크스": "폭발적인 딜, 카오스 플레이 💥",
    "에즈리얼": "스킬샷 잘 맞추면 캐리 가능 🎯",
    "카이사": "적응형 딜링, 유연한 플레이 😼",
    "아펠리오스": "복잡하지만 파괴력 최고 💀",
    "루시안": "순간 폭발 딜, 연속 스킬콤보 🔥",
    "바루스": "원거리 CC+딜, 한타 영향력 높음 🎯",
    "쓰레쉬": "훅+와딩으로 상대 괴롭힘 🪝",
    "레오나": "한타 시작 담당, 튼튼한 탱커 🛡️",
    "나미": "힐+군중 제어로 팀 안정 🌊",
    "브라움": "가드+CC, 안전한 라인 제공 🐻",
    "알리스타": "돌진+스턴으로 한타 이끌기 🐂",
    "모르가나": "궁+CC로 핵심 적 묶기 🔗"
}

st.title("🎮 MBTI × 롤 챔피언 추천기 (한국어 버전)")

# MBTI 선택
selected_mbti = st.selectbox("당신의 MBTI를 선택하세요:", mbti_list)

# 라인 선택
selected_line = st.selectbox("원하는 라인을 선택하세요:", lines)

if st.button("챔피언 추천!"):
    # 라인에서 랜덤으로 2명 추천
    champs = random.sample(champions_data[selected_line], 2)
    
    st.subheader(f"{selected_line} 라인 추천 챔피언:")
    for champ in champs:
        st.markdown(f"- **{champ}** : {champion_comments[champ]}")
    
    st.subheader("게임 스타일 예측:")
    style_comment = mbti_style_comments[selected_mbti]
    st.markdown(f"_{style_comment}_")
    
    st.info("⚠️ 추천된 챔피언과 게임 스타일은 재미로 보는 거예요! 😉")
